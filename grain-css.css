/* Grain Texture Procedural com CSS Puro */
.grain-procedural {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: var(--grain-opacity, 0.08);
    pointer-events: none;
    z-index: 1;
    mix-blend-mode: multiply;
}

.grain-procedural::before,
.grain-procedural::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: 200px 200px;
    animation: grainMove 20s linear infinite;
}

/* Layer 1 - Noise vertical */
.grain-procedural::before {
    background-image: 
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(255, 255, 255, 0.03) 2px,
            transparent 4px
        );
    opacity: 0.5;
}

/* Layer 2 - Noise horizontal */
.grain-procedural::after {
    background-image: 
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(168, 213, 186, 0.02) 2px,
            transparent 4px
        );
    opacity: 0.5;
    animation-direction: reverse;
}

@keyframes grainMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(200px, 200px); }
}

/* Grain seletivo para cards */
.grain-card {
    position: relative;
    overflow: hidden;
}

.grain-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        repeating-linear-gradient(
            45deg,
            transparent 0px,
            rgba(168, 213, 186, 0.03) 1px,
            transparent 2px,
            rgba(184, 185, 211, 0.02) 3px,
            transparent 4px
        );
    background-size: 100px 100px;
    opacity: var(--grain-card-opacity, 0.12);
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 1;
    border-radius: inherit;
}

/* Animação sutil para cards */
@keyframes grainCardMove {
    0% { transform: translate(0, 0) rotate(0deg); }
    100% { transform: translate(100px, 100px) rotate(1deg); }
}

/* Variação mais intensa para elementos destacados */
.grain-intense {
    background-image: 
        radial-gradient(
            circle at 20% 50%,
            transparent 20%,
            rgba(168, 213, 186, 0.05) 21%,
            transparent 22%
        ),
        radial-gradient(
            circle at 60% 30%,
            transparent 30%,
            rgba(184, 185, 211, 0.04) 31%,
            transparent 32%
        ),
        radial-gradient(
            circle at 80% 70%,
            transparent 70%,
            rgba(212, 165, 165, 0.03) 71%,
            transparent 72%
        );
    background-size: 300px 300px, 400px 400px, 250px 250px;
    animation: grainIntenseMove 30s linear infinite;
}

@keyframes grainIntenseMove {
    0% { background-position: 0% 0%, 0% 0%, 0% 0%; }
    100% { background-position: 100% 100%, 200% 200%, 150% 150%; }
}

/* Responsivo - menos grain em mobile */
@media (max-width: 768px) {
    .grain-procedural {
        opacity: calc(var(--grain-opacity, 0.08) * 0.5);
    }
    
    .grain-card {
        opacity: calc(var(--grain-card-opacity, 0.12) * 0.7);
    }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
    .grain-procedural::before {
        background-image: 
            repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(255, 255, 255, 0.05) 2px,
                transparent 4px
            );
    }
    
    .grain-procedural::after {
        background-image: 
            repeating-linear-gradient(
                90deg,
                transparent,
                transparent 2px,
                rgba(168, 213, 186, 0.03) 2px,
                transparent 4px
            );
    }
}